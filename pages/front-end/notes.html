<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1)性能优化 | 平安首页</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="平安的前端记录">
    
    <link rel="preload" href="/assets/css/0.styles.bd090d83.css" as="style"><link rel="preload" href="/assets/js/app.2334ccd9.js" as="script"><link rel="preload" href="/assets/js/2.669e26a7.js" as="script"><link rel="preload" href="/assets/js/4.6f6fa7e5.js" as="script"><link rel="prefetch" href="/assets/js/10.a9e6d715.js"><link rel="prefetch" href="/assets/js/11.7420025a.js"><link rel="prefetch" href="/assets/js/12.336552aa.js"><link rel="prefetch" href="/assets/js/13.99ce75e5.js"><link rel="prefetch" href="/assets/js/14.61a2dfe2.js"><link rel="prefetch" href="/assets/js/15.add55899.js"><link rel="prefetch" href="/assets/js/16.e917e61b.js"><link rel="prefetch" href="/assets/js/17.338cef6c.js"><link rel="prefetch" href="/assets/js/18.d4a9f2ee.js"><link rel="prefetch" href="/assets/js/19.4483f694.js"><link rel="prefetch" href="/assets/js/20.338355de.js"><link rel="prefetch" href="/assets/js/21.17301ab2.js"><link rel="prefetch" href="/assets/js/22.1a52cc53.js"><link rel="prefetch" href="/assets/js/23.3d603057.js"><link rel="prefetch" href="/assets/js/24.d1acdeda.js"><link rel="prefetch" href="/assets/js/3.d5c63fca.js"><link rel="prefetch" href="/assets/js/5.4d7ca464.js"><link rel="prefetch" href="/assets/js/6.14dfa7a1.js"><link rel="prefetch" href="/assets/js/7.ba8a1e54.js"><link rel="prefetch" href="/assets/js/8.d74f21bb.js"><link rel="prefetch" href="/assets/js/9.38438d45.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bd090d83.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpg" alt="平安首页" class="logo"> <span class="site-name can-hide">平安首页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/vue3-status-star/vue3/star1.html" class="nav-link">
  文章
</a></li><li class="dropdown-item"><!----> <a href="/pages/study/study.html" class="nav-link">
  人生格言
</a></li></ul></div></div><div class="nav-item"><a href="/pages/vue3-status-star/vue3/star3.html" class="nav-link">
  功能演示
</a></div><div class="nav-item"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/vue3-status-star/vue3/star1.html" class="nav-link">
  文章
</a></li><li class="dropdown-item"><!----> <a href="/pages/study/study.html" class="nav-link">
  人生格言
</a></li></ul></div></div><div class="nav-item"><a href="/pages/vue3-status-star/vue3/star3.html" class="nav-link">
  功能演示
</a></div><div class="nav-item"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>一、Vue3初识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/vue3-status-star/vue3/star1.html" class="sidebar-link">1.基础介绍</a></li><li><a href="/pages/vue3-status-star/vue3/star2.html" class="sidebar-link">2.vue3快速上手</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>二、TypeScript初识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/vue3-status-star/typeScript/ts1.html" class="sidebar-link">1.ts基础介绍</a></li><li><a href="/pages/vue3-status-star/typeScript/ts2.html" class="sidebar-link">2.ts安装</a></li><li><a href="/pages/vue3-status-star/typeScript/ts3.html" class="sidebar-link">3.第一个ts程序</a></li><li><a href="/pages/vue3-status-star/typeScript/ts4.html" class="sidebar-link">4.ts常用语法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>三、Vue2与Vue3响应式改变</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/vue3-status-star/vue3/star4.html" class="sidebar-link">1.vue2与vue3响应式改变</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>四、Vue3改变</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/vue3-status-star/vue3/star3.html" class="sidebar-link">1.vue3基础Composition API变化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>五、VuePress在线笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/vue3-status-star/note/note.html" class="sidebar-link">VuePress个人笔记</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>六、 前端性能优化与解决方案</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/front-end/notes.html" aria-current="page" class="active sidebar-link">前端性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/front-end/notes.html#_1-性能优化" class="sidebar-link">1)性能优化</a></li><li class="sidebar-sub-header"><a href="/pages/front-end/notes.html#在请求资源返回后-浏览器会进行解析和加载-这个过程会影响页面的可见时间-通过对首屏加载的优化-可有效地提升用户体验。" class="sidebar-link">在请求资源返回后，浏览器会进行解析和加载，这个过程会影响页面的可见时间，通过对首屏加载的优化，可有效地提升用户体验。</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>七、 HTTP 协议和前端开发有什么关系？</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/http/http.html" class="sidebar-link">HTTP 协议和前端关系</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>八、 微信特立独行</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/wx/wx.html" class="sidebar-link">微信为什么特立独行</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>九、 页面布局的基本规则和方式</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/layout/layout.html" class="sidebar-link">页面布局的基本规则和方式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>十、 HTML页面基本结构和加载过程</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/html/html.html" class="sidebar-link">页面基本结构和加载过程</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>十一、 剖析浏览器中页面的渲染过程</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/html/browser.html" class="sidebar-link">剖析浏览器中页面的渲染过程</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>十二、 单页应用</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/html/routingLibrary.html" class="sidebar-link">单页应用</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-性能优化"><a href="#_1-性能优化" class="header-anchor">#</a> 1)性能优化</h2> <h4 id="为什么要进行性能优化呢-因为对于一个产品来说-用户的体验是最重要的。当页面加载时间过长、交互操作不流畅时-会给用户带来很糟糕的体验-最坏的情况下会导致用户的流失-到最后还会出现-代码写得好看又怎样-产品还不是一样难用-的情况。正因为如此-在各种技术优化的解决方案中-性能优化出现的频率最高、优先级也常常是更高的。"><a href="#为什么要进行性能优化呢-因为对于一个产品来说-用户的体验是最重要的。当页面加载时间过长、交互操作不流畅时-会给用户带来很糟糕的体验-最坏的情况下会导致用户的流失-到最后还会出现-代码写得好看又怎样-产品还不是一样难用-的情况。正因为如此-在各种技术优化的解决方案中-性能优化出现的频率最高、优先级也常常是更高的。" class="header-anchor">#</a> 为什么要进行性能优化呢？因为对于一个产品来说，用户的体验是最重要的。当页面加载时间过长、交互操作不流畅时，会给用户带来很糟糕的体验，最坏的情况下会导致用户的流失，到最后还会出现“代码写得好看又怎样，产品还不是一样难用”的情况。正因为如此，在各种技术优化的解决方案中，性能优化出现的频率最高、优先级也常常是更高的。</h4> <h4 id="常见的性能优化方案"><a href="#常见的性能优化方案" class="header-anchor">#</a> 常见的性能优化方案</h4> <div class="language- extra-class"><pre><code>对于前端应用来说，页面加载耗时、渲染耗时、网络耗时、脚本执行耗时等指标会影响用户的等待时长，
而 CPU 占用、内存占用、本地缓存占用等可能会导致页面卡顿甚至卡死。
因此，性能优化可以分别从常见耗时和资源占用两方面来解决。
</code></pre></div><h3 id="_1-时间角度优化-减少耗时"><a href="#_1-时间角度优化-减少耗时" class="header-anchor">#</a> ①. 时间角度优化：减少耗时</h3> <ul><li>网络请求，服务端返回 HTML 内容；</li> <li>浏览器一边解析 HTML，一边进行页面渲染；</li> <li>解析到外部资源，会发起 HTTP 请求获取，加载 Javascript 代码时会暂停页面渲染；</li> <li>根据业务代码加载过程，会分别进入页面开始渲染、渲染完成、用户可交互等阶段；</li> <li>页面交互过程中，会根据业务逻辑进行逻辑运算、页面更新。
<img src="/assets/img/browser.6d135180.jpg" alt="solar">
根据这个过程，我们可以从 4 个方面进行耗时优化：网络请求优化、首屏加载优化、渲染过程优化、计算/逻辑运行提速。</li></ul> <h3 id="_1-网络请求优化。"><a href="#_1-网络请求优化。" class="header-anchor">#</a> ①. 网络请求优化。</h3> <ul><li>网络请求优化的目标在于减少网络资源的请求和加载耗时，可以参考以下优化方案：</li> <li><strong>减少 DNS 查询时间</strong>，比如使用浏览器 DNS 缓存、计算机 DNS 缓存、服务器 DNS 缓存</li> <li><strong>合理地使用 CDN</strong>，有效地减少网络请求耗时；</li> <li><strong>对请求资源进行缓存</strong>，包括但不限于使用浏览器缓存、HTTP 缓存、后台缓存，比如使用 Service Worker、PWA 等技术；</li> <li><strong>移除代码中无用的部分</strong>，比如使用 Tree-shaking、代码分割、移除用不上的依赖项等；</li> <li>对请求资源进行合理的拆分（CSS、Javascript 脚本、图片/音频/视频等），减少请求资源的体积；</li> <li><strong>对资源进行压缩，减少传输数据大小</strong>；</li> <li>使用 HTTP/2、HTTP/3，提升资源请求速度；</li> <li>对请求进行优化，比如对多个请求进行合并，减少通信次数；对请求进行域名拆分，提升并发请求数量
<img src="/assets/img/network.22a4624e.jpg" alt="solar"></li></ul> <h2 id="在请求资源返回后-浏览器会进行解析和加载-这个过程会影响页面的可见时间-通过对首屏加载的优化-可有效地提升用户体验。"><a href="#在请求资源返回后-浏览器会进行解析和加载-这个过程会影响页面的可见时间-通过对首屏加载的优化-可有效地提升用户体验。" class="header-anchor">#</a> 在请求资源返回后，浏览器会进行解析和加载，这个过程会影响页面的可见时间，通过对首屏加载的优化，可有效地提升用户体验。</h2> <h3 id="_1-首屏加载优化。"><a href="#_1-首屏加载优化。" class="header-anchor">#</a> ①. 首屏加载优化。</h3> <p>顾名思义，首屏加载优化核心点在于：<strong>将页面内容尽快展示给用户，减少页面白屏时间。</strong>
因此，首屏加载优化的方案主要包括两方面：首屏加载耗时优化以及使用页面过渡效果。
其中，性能和渲染耗时优化属于技术优化手段，可以通过以下方式进行：</p> <ul><li>对页面进行分片/分屏加载，将页面可见/可交互时间提前；</li> <li>优化资源加载的顺序和粒度，仅加载需要的资源，通过异步加载方式加载剩余资源；</li> <li>使用差异化服务，比如读写分离，对于不同场景按需加载所需要的模块；</li> <li>使用服务端直出渲染，减少页面二次请求和渲染的耗时；</li> <li>使用秒看技术，通过预览的方式（比如图片）提前将页面内容提供给用户；</li> <li>配合客户端进行资源预请求和预加载，比如使用预热 Web 容器；</li> <li>配合客户端将资源和数据进行离线，可用于下一次页面的快速渲染。
<img src="/assets/img/property.f02b4d8d.jpg" alt="solar">
相比性能和渲染耗时优化，使用页面过渡效果可能更倾向于产品策略。很多时候产品策略的调整，给用户带来的体验优化效果不低于技术手段优化，因此我们也需要重视。常见的方案包括使用骨架屏进行预渲染，以及使用过渡动画让用户感知到页面正在顺利加载，从而避免用户对于白屏页面或是静止页面产生烦躁和困惑。</li></ul> <p>除了首屏渲染以外，用户在浏览器页面过程中，也会触发页面的二次运算和渲染，此时需要进行渲染过程的优化。</p> <h3 id="_1-渲染过程优化。"><a href="#_1-渲染过程优化。" class="header-anchor">#</a> ①.  渲染过程优化。</h3> <p><img src="/assets/img/vary.d4580a3f.jpg" alt="solar"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pages/vue3-status-star/note/note.html" class="prev">
        VuePress个人笔记
      </a></span> <span class="next"><a href="/pages/http/http.html">
        HTTP 协议和前端关系
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2334ccd9.js" defer></script><script src="/assets/js/2.669e26a7.js" defer></script><script src="/assets/js/4.6f6fa7e5.js" defer></script>
  </body>
</html>
